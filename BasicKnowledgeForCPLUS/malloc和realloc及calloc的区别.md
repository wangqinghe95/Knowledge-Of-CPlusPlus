# malloc、realloc、calloc 之间的区别

## malloc 函数是从堆上获得指定字节的内存空间
    + 声明： void *malloc(int n);

## calloc 函数作用同malloc，区别是参数不同，申请空间大小为 n*size
    + 声明：void* calloc(int n, int size);

## realloc 函数重新分配指定指针大小的内存空间，如果 n 小于等于 p 原有的内存大小，则保持当前状态不变，如果 n 大于 p 之前所指向的空间大小，那么系统将重新为 p 从堆上分配一块大小为 n 的内存，同时将原来指向空间的内容依次复制到新的内存空间中，并且释放掉 p 之前指向的内容
    + 声明： void *realloc(void *p, int n);
    
## realloc 调整空间分为两种情况：
    + 调整空间比原有空间大：
        - 大一点：直接延伸原有空间，并返回原空间首地址；
        - 大很多：重新开辟新空间，将旧空间内容拷贝到新空间去，释放旧空间，返回新空间的首地址；
    + 调整空间比原有空间小：将原有空间缩小，返回旧地址空间首地址

# alloca函数：
+ 作用和用法都等同于 malloc 函数，但是区别在于该函数的申请空间地址在栈空间里，当函数返回时会自动释放它所使用的栈帧，而不必为释放空间而费心，但是缺点就是某些系统在函数已被调用的时候再增加栈帧长度了，也就是不支持该函数。

[](https://blog.csdn.net/qq_38810767/article/details/85265541)