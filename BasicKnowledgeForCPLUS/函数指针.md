# 函数指针是什么？

## 概念：
    函数指针指向的是特殊的数据类型，函数的类型是由其返回的数据类型和其参数列表共同决定的，而函数名称不是其类型的一部分；
## 函数指针的声明方法： 
    + int (*pf)(const int&, const int&): 其中pf就是一个函数，指向所有返回值为 int 型，并带有两个 const int& 参数的函数；其中 (*pf) 不能写成 *pf;
    + int *pf(const int&, const int&): 声明了一个函数 pf，其返回值是 int* ，带有两个 const int& 参数；
## 为什么要有函数指针
    函数和数据项很相似，函数也有指针，我们希望在同一个函数通过使用相同的参数在不同的时间产生不同的效果；

## 函数指针使用：
    一个函数名就是一个指针，它指向函数的代码。一个函数的地址就是该函数的进入点，也是调用函数的地址。函数调用可以通过函数名，也可以通过指向函数的指针来调用。函数指针还允许将函数作为变元传递给其他函数；

## 赋值方法：
    指针名 = 函数名
    指针名 = &函数名

```
#include<cstdio>

int Max(int a, int b){
    return a > b ? a : b;
}

int Min(int a, int b){
    return a < b ? a : b;
}

int (*fp)(int, int);

int main(){
    fp = Max;
    int c = (*fp)(1,2);
    printf("c = %d\n", c);

    fp = Min;
    int d = (*fp)(3,4);
    printf("d = %d\n", d);

    return 0;
}
```

## 函数指针作为函数参数传递使用
    函数指针可以作为一个参数传递给另一个函数，此时函数指针的使用就像普通的变量一样。当函数指针作为参数传递时，这是接收参数传递的函数通常需要根据这个指针调用这个函数，作为参数传递的指针通常称之为回调函数(callback Functions)。

### 回调函数
    回调函数就是通过一个函数指针调用的函数。函数指针（地址）作为参数传递给另一个函数，当这个指针被用来调用所指向的函数时，此时这个被调用的函数就被称之为回调函数。

### 回调函数的作用
    回调函数的特点是跳出正常的程序执行顺序，作用就是为了分离代码，降低程序的耦合性。（在面向对象的模型中）

    举个例子：一个下载系统中有一个文件下载模块，一个下载文件当前进度显示模块，系统要是实时显示文件的下载进度，在面向对象的实现中，就是实现两个类，但是显示模块如何去驱动下载进度条，？显示模块不知道也不应该知道下载模块所知道的文件下载进度（面向对象设计的封装性，模块间需要解耦，模块内要内聚），文件下载进度是只有下载模块才知道的事，解决方案就是给下载模块传递一个函数指针作为回调函数的驱动显示木块的希纳是进度。

    1. 当发生某种事件时，系统或者其他函数会自动调用你定义的一段函数；
    2. 回调函数就相当于一个中断处理函数，由系统在符合你设定的条件时自动调用。为此在调用之前需要完成三件事：声明，定义，设置触发条件，就是在函数中把回调函数名称转换成地址作为一个参数，以便于系统调用；
    3. 回调函数就是一个通过函数指针调用的函数，如果把函数的指针（地址）作为参数传递给另一个函数，当这个指针被用作调用它所指向的函数时，我们就称这是回调函数；
    4. 因为可以把调用者与被调用者分开，调用者不关心谁是被调用者，所以它需要知道的只是存在一个具有某种特定原型、某些限制条件（如返回值为int）的被调用函数。

https://blog.csdn.net/zhengnianli/article/details/98477427


   